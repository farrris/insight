{"ast":null,"code":"var _jsxFileName = \"/Users/vladislavsderzikov/Desktop/Projects/insight/client/src/pages/interests/index.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport NavBar from \"../../components/navbar\";\nimport Container from 'react-bootstrap/Container';\nimport \"./index.css\";\nimport axios from \"axios\";\nimport { API_URL } from \"../../constants\";\nimport { useNavigate } from \"react-router-dom\";\nimport checkAuth from \"../../guards/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Interests() {\n  _s();\n  const [selectedInterests, setSelectedInterests] = useState([]);\n  const [interests, setInterests] = useState([]);\n  const navigate = useNavigate();\n  const getInterests = () => {\n    const fullUrl = API_URL + \"/api/interests\";\n    axios.get(fullUrl).then(response => {\n      setInterests(response.data);\n    });\n  };\n  const updateUserInterests = () => {\n    const fullUrl = API_URL + \"/api/users/\";\n    const updateData = {\n      interests: selectedInterests.map(interest => interest.id)\n    };\n    axios.put(fullUrl, updateData).then(res => {\n      navigate(\"/peoples\");\n    }).catch(err => console.log(err));\n  };\n  const selectInterest = selectedInterest => {\n    if (selectedInterests.length < 5) {\n      let newSelectedInterests = [...selectedInterests, selectedInterest];\n      let newInterests = interests.filter(interest => {\n        return selectedInterest.id != interest.id;\n      });\n      setSelectedInterests(newSelectedInterests);\n      setInterests(newInterests);\n    }\n  };\n  const removeInterest = interest => {\n    let newInterests = [...interests, interest];\n    let newSelectedInterests = selectedInterests.filter(selectedInterest => {\n      return interest.id != selectedInterest.id;\n    });\n    setSelectedInterests(newSelectedInterests);\n    setInterests(newInterests);\n  };\n  useEffect(() => {\n    checkAuth();\n    getInterests();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"mt-1 w-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: \"center\",\n          fontSize: \"30px\"\n        },\n        children: \"\\u0418\\u043D\\u0442\\u0435\\u0440\\u0435\\u0441\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: \"24px\"\n          },\n          children: [selectedInterests.length, \" \\u0438\\u0437 5\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: updateUserInterests,\n          style: {\n            fontSize: \"24px\",\n            color: \"#3f7dfc\"\n          },\n          children: \"\\u0413\\u043E\\u0442\\u043E\\u0432\\u043E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), selectedInterests.length <= 3 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-start flex-wrap flex-row\",\n        children: selectedInterests.map(selectedInterest => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"selected-interest-card\",\n          onClick: () => removeInterest(selectedInterest),\n          children: selectedInterest.title\n        }, selectedInterest.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between flex-wrap flex-row\",\n        children: selectedInterests.map(selectedInterest => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"selected-interest-card\",\n          onClick: () => removeInterest(selectedInterest),\n          children: selectedInterest.title\n        }, selectedInterest.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A...\",\n        className: \"w-100 p-1 mt-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-start flex-wrap flex-row\",\n        children: interests.map(interest => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"interest-card\",\n          onClick: () => selectInterest(interest),\n          children: interest.title\n        }, interest.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n}\n_s(Interests, \"Jp7ILf93rM/fzkQrkuzByrM0Izc=\", false, function () {\n  return [useNavigate];\n});\n_c = Interests;\nexport default Interests;\nvar _c;\n$RefreshReg$(_c, \"Interests\");","map":{"version":3,"names":["useEffect","useState","NavBar","Container","axios","API_URL","useNavigate","checkAuth","jsxDEV","_jsxDEV","Interests","_s","selectedInterests","setSelectedInterests","interests","setInterests","navigate","getInterests","fullUrl","get","then","response","data","updateUserInterests","updateData","map","interest","id","put","res","catch","err","console","log","selectInterest","selectedInterest","length","newSelectedInterests","newInterests","filter","removeInterest","children","fileName","_jsxFileName","lineNumber","columnNumber","className","style","textAlign","fontSize","onClick","color","title","type","placeholder","_c","$RefreshReg$"],"sources":["/Users/vladislavsderzikov/Desktop/Projects/insight/client/src/pages/interests/index.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport NavBar from \"../../components/navbar\";\nimport Container from 'react-bootstrap/Container';\nimport \"./index.css\";\nimport axios from \"axios\";\nimport { API_URL } from \"../../constants\";\nimport { useNavigate } from \"react-router-dom\";\nimport checkAuth from \"../../guards/auth\";\n\nfunction Interests() {\n    const [selectedInterests, setSelectedInterests] = useState([]);\n    const [interests, setInterests] = useState([]);\n    \n    const navigate = useNavigate();\n\n    const getInterests = () => {\n        const fullUrl = API_URL + \"/api/interests\";\n        axios.get(fullUrl).then((response) => {\n            setInterests(response.data);\n        });\n    }\n\n    const updateUserInterests = () => {\n        const fullUrl = API_URL + \"/api/users/\";\n        const updateData = {\n            interests: selectedInterests.map((interest) => interest.id)\n        }\n        axios.put(fullUrl, updateData).then((res) => {\n            navigate(\"/peoples\");\n        }).catch((err) => console.log(err));\n    }\n\n    const selectInterest = (selectedInterest) => {\n        if (selectedInterests.length < 5) {\n            let newSelectedInterests = [...selectedInterests, selectedInterest];\n            let newInterests = interests.filter((interest) => {\n                return selectedInterest.id != interest.id;\n            });\n\n            setSelectedInterests(newSelectedInterests);\n            setInterests(newInterests);\n        }\n    }\n\n    const removeInterest = (interest) => {\n        let newInterests = [...interests, interest];\n        let newSelectedInterests = selectedInterests.filter((selectedInterest) => {\n            return interest.id != selectedInterest.id;\n        });\n\n        setSelectedInterests(newSelectedInterests);\n        setInterests(newInterests);\n    }\n\n    useEffect(() => {\n        checkAuth();\n        getInterests();\n    }, [])\n\n    return (\n        <div>\n            <NavBar />\n            <Container className=\"mt-1 w-50\">\n                <p style={{ textAlign: \"center\", fontSize: \"30px\" }}>Интересы</p>\n                <div className=\"d-flex justify-content-between\">\n                    <p style={{ fontSize: \"24px\" }}>{selectedInterests.length} из 5</p>\n                    <div onClick={updateUserInterests} style={{ fontSize: \"24px\", color: \"#3f7dfc\" }}>Готово</div>\n                </div>\n                { selectedInterests.length <= 3  ? (\n                <div className=\"d-flex justify-content-start flex-wrap flex-row\">\n                    {selectedInterests.map((selectedInterest) => \n                        <div key={selectedInterest.id} className=\"selected-interest-card\" onClick={() => removeInterest(selectedInterest)}>\n                            {selectedInterest.title}\n                        </div>\n                    )}\n                </div>\n                 ) : (\n                <div className=\"d-flex justify-content-between flex-wrap flex-row\">\n                    {selectedInterests.map((selectedInterest) => \n                        <div key={selectedInterest.id} className=\"selected-interest-card\" onClick={() => removeInterest(selectedInterest)}>\n                            {selectedInterest.title}\n                        </div>\n                    )}\n                </div>\n                 )}\n                <input type=\"text\" placeholder=\"Поиск...\" className=\"w-100 p-1 mt-4\" />\n                <div className=\"d-flex justify-content-start flex-wrap flex-row\">\n                    {interests.map((interest) => \n                        <div key={interest.id} className=\"interest-card\" onClick={() => selectInterest(interest)}>\n                            {interest.title}\n                        </div>\n                    )}\n                </div>\n            </Container>\n        </div>\n    )\n}\n\nexport default Interests;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}